/// <reference path="jquery.js" />

function showHide(obj) {
    var isShow = false;
    var id = $(obj).data("id");
    isShow = $(obj).hasClass("arrow-1");
    $(obj).removeClass("dir-h");

    if (isShow == false)
        $(obj).removeClass("arrow-2").addClass("arrow-1");
    else
        $(obj).removeClass("arrow-1").addClass("arrow-2");


    $(".tree a").each(function () {

        if ($(this).data("pid") != id) {
            return;
        }
        if (isShow)
            $(this).show().css("display", "block");
        else
            $(this).hide();
        $(this).removeClass("doc-h");
    });


}

function showHidee(obj) {

    var isBegin = false;
    var isShow = $(obj).hasClass("arrow-1");
    $(".tree a").each(function () {
        if (this === obj) {
     
            isBegin = true;
            return;
        }
        if (isBegin == false) return;

        if ($(this).data("level") == $(obj).data("level")) {
            isBegin = false;
            return;
        }
        var isdir = $(this).hasClass("arrow-1");
        if (isdir == false) isdir= $(this).hasClass("arrow-2");
        if (isShow) {
            $(this).show();
            if (isdir) $(this).removeClass("arrow-1").addClass("arrow-2");
        }
        else {
            $(this).hide();
            if (isdir) $(this).removeClass("arrow-2").addClass("arrow-1");
        }

       
    });

    if ($(obj).next().is(":hidden"))
        $(obj).removeClass("arrow-2").addClass("arrow-1");
    else
        $(obj).removeClass("arrow-1").addClass("arrow-2");
}

function isMobile() {
    var url = window.location;
    if (/Android|iPhone|Windows Phone|webOS|iPod|BlackBerry/i.test(navigator.userAgent)) {
        window.location.href = url.toString().replace("www", "m");
    }
}

function Init() {
    //$(".tree a").eq(0).click();
    isMobile();
    $(".home-menu").height($(window).height() - $(".header").height() - 10);
    //$(".pagew").css("overflow-y", "auto");
    $(".pagew").height($(window).height() - 80);
   
}

function demo() {
    var objs = $(".itxstdemo");
    for (var i = 0; i < objs.length; i++) {
        idemo(i, objs[i]);
    };
}
function idemo(index, o) {
    var obj = $(o);

    var id = "demo" + obj.data("id") + index;
    var demo = document.createElement("iframe");
    demo.setAttribute("frameborder", "0");
    demo.setAttribute("id", id);
    demo.setAttribute("src", "//debug.itxst.com/" + obj.data("lang") + "/" + obj.data("id") + "?v=mini&h=" + obj.data("h") + "&t=" + index);

    obj[0].innerHTML = "";
    obj[0].appendChild(demo);

    var demoObj = $("#" + id);
    demoObj.height(obj.data("h") + 60);
    demoObj.width($(".content-detail").width());
    //demoObj.contents().find("body").css({ "overflow-x": "hidden" });
    obj.height(obj.data("h") + 50);
}

$(document).ready(function () {

    Init();
    demo();
});
